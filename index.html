<!DOCTYPE html>
<html>
<head>
   <title>Analizador JavaScript</title>
   <link href="global.css" rel="stylesheet" type="text/css">
   <script src="parse.js"></script>
   <script src="tokens.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

   <script src="main.js"></script>
</head>

<body>
  <h1><font id=letras>A</font>nalizador <font id=letras>L</font>Ã©xico para un <font id=letras>S</font>ubconjunto de <font id=letras>J</font>avaScript </h1>
  <p>
    <nav>
      <a href="http://javascript.crockford.com/tdop/tdop.html" class="mylink">Top Down Operator Precedence tutorial</a>
      <a href="https://github.com/crguezl/ull-etsii-grado-pl-minijavascript" class="mylink">Repo at GitHub</a>
    </nav>
  </p>
  <h2>Input</h2>
  <p>
  Fill the input box with javascript code:
  </p>
  <textarea id="INPUT">
     var a = "hello"; // initialize a
     var b = function(x) {
             var c = 3;
               return x+c;
             };
  </textarea>
  <br>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
    <script type="text/html" id='usageList'>
      <ul>
        <% _.each(files, function(f) { %>
          <li>
              <strong><%- f.name %></strong>
              (<%= f.type || 'n/a' %>)
              - <%= f.size %> bytes,
              last modified:
                <%= f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a' %>
          </li>
          <% }); %>
      </ul>
    </script>
  </head>
  <body>

    <div id="drop_zone">Drop files here</div>
    <output id="list"></output>

    <script>
      function handleFileSelect(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        var files = evt.dataTransfer.files; // FileList object.
        // files is a FileList of File objects. List some properties.
        var template = _.template(usageList.innerHTML);
        document.getElementById('list').innerHTML = template({ files : files});
        evt.target.style.background = "black";
      }
      function handleDragOver(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        evt.target.style.background = "purple";
      }
      // Setup the drag and drop listeners.
      var dropZone = document.getElementById('drop_zone');
      dropZone.addEventListener('dragover', handleDragOver, false);
      dropZone.addEventListener('drop', handleFileSelect, false);
    </script>
  <input id="PARSE" value=parse type=button class="mylink">
  <pre id=OUTPUT></pre>
</body>
</html>
