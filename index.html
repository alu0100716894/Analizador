<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Analizador JavaScript</title>
   <link href="global.css" rel="stylesheet" type="text/css">
   <script src="parse.js"></script>
   <script src="tokens.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
   <script src="main.js"></script>
</head>

<body>
  <h1><font id=letras>A</font>nalizador <font id=letras>L</font>Ã©xico para un <font id=letras>S</font>ubconjunto de <font id=letras>J</font>avaScript </h1>
  <p>
    <nav>
      <a href="https://github.com/crguezl/ull-etsii-grado-pl-minijavascript" class="mylink">Repo at GitHub</a>
    </nav>
  </p>
  <h2><font id=letrasMenores>Input</font></h2>
  <p>
    <font id=letrasMenores>Puede arrastrar su fichero directamente al campo de texto</font>
  </p>
  <textarea id="INPUT">
     var a = "hello"; // initialize a
     var b = function(x) {
             var c = 3;
               return x+c;
             };
  </textarea>
  <br>
  </head>
  <body>
    <script>
    // Drag and drop
      function handleFileSelect(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        var files = evt.dataTransfer.files;
        // FileReader
        var reader = new FileReader();
        reader.onload = function(event) {
          document.getElementById('INPUT').value = event.target.result;
        }
        reader.readAsText(files[0], "UTF-8");

        $('#INPUT').css('background-color', '#66FFCC')
        
      }
      function handleDragOver(evt) {
        $('#INPUT').css('background-color', '#B5FFE7')

        evt.stopPropagation();
        evt.preventDefault();
      }
      var dropZone = document.getElementById('INPUT');
      dropZone.addEventListener('dragover', handleDragOver, false);
      dropZone.addEventListener('drop', handleFileSelect, false);

      // Carga fichero
      window.addEventListener('load', inicio, false);

      function inicio() {
        document.getElementById('archivo').addEventListener('change', leer, false);        
      }
      function leer(ev) {
        document.getElementById('INPUT').value=ev.target.result;
      }

      // Cargar ejemplos
      
    </script>
  <input id="PARSE" value=parse type=button class="mylink">
  <pre id=OUTPUT></pre>
  <input type="file" id="archivo">
  <button onclick="inicio();"></button>
</body>
</html>
